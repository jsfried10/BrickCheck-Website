<svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">
  <defs>
    <!-- Mac squircle clip path -->
    <clipPath id="squircle">
      <path d="M512 0C225.3 0 128 0 75.5 75.5S0 225.3 0 512s0 287 75.5 436.5S225.3 1024 512 1024s287 0 436.5-75.5S1024 798.7 1024 512s0-287-75.5-436.5S798.7 0 512 0Z"/>
    </clipPath>

    <!-- Main background gradient (rich LEGO red) -->
    <linearGradient id="bgGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#F01020"/>
      <stop offset="100%" stop-color="#C5000A"/>
    </linearGradient>

    <!-- Subtle inner glow at top -->
    <linearGradient id="topShine" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="white" stop-opacity="0.2"/>
      <stop offset="40%" stop-color="white" stop-opacity="0"/>
    </linearGradient>

    <!-- Stud gradient for 3D raised look -->
    <radialGradient id="studGrad" cx="0.4" cy="0.35" r="0.6">
      <stop offset="0%" stop-color="#FF4040"/>
      <stop offset="60%" stop-color="#E3000B"/>
      <stop offset="100%" stop-color="#B5000A"/>
    </radialGradient>

    <!-- Inner shadow for stud ring -->
    <filter id="studShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="3" stdDeviation="4" flood-color="#000000" flood-opacity="0.25"/>
    </filter>

    <!-- Checkmark shadow -->
    <filter id="checkShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000000" flood-opacity="0.3"/>
    </filter>

    <!-- Subtle bottom shadow for whole icon depth -->
    <filter id="innerBottom">
      <feFlood flood-color="#000" flood-opacity="0.1"/>
      <feComposite in2="SourceGraphic" operator="in"/>
      <feOffset dy="2"/>
      <feGaussianBlur stdDeviation="1"/>
      <feComposite in2="SourceGraphic" operator="out"/>
      <feComposite in2="SourceGraphic" operator="over"/>
    </filter>
  </defs>

  <!-- Mac icon shape with squircle clip -->
  <g clip-path="url(#squircle)">

    <!-- Background: rich red gradient -->
    <rect width="1024" height="1024" fill="url(#bgGrad)"/>

    <!-- Top shine overlay -->
    <rect width="1024" height="1024" fill="url(#topShine)"/>

    <!-- Subtle grid lines for brick texture (very faint) -->
    <line x1="512" y1="0" x2="512" y2="1024" stroke="white" stroke-opacity="0.03" stroke-width="3"/>
    <line x1="0" y1="512" x2="1024" y2="512" stroke="white" stroke-opacity="0.03" stroke-width="3"/>

    <!-- === LEGO Studs (2x2 grid) === -->

    <!-- Top-left stud -->
    <g filter="url(#studShadow)">
      <circle cx="340" cy="310" r="95" fill="url(#studGrad)" stroke="#A00008" stroke-width="3"/>
      <ellipse cx="330" cy="285" rx="45" ry="25" fill="white" fill-opacity="0.15"/>
    </g>

    <!-- Top-right stud -->
    <g filter="url(#studShadow)">
      <circle cx="684" cy="310" r="95" fill="url(#studGrad)" stroke="#A00008" stroke-width="3"/>
      <ellipse cx="674" cy="285" rx="45" ry="25" fill="white" fill-opacity="0.15"/>
    </g>

    <!-- Bottom-left stud -->
    <g filter="url(#studShadow)">
      <circle cx="340" cy="620" r="95" fill="url(#studGrad)" stroke="#A00008" stroke-width="3"/>
      <ellipse cx="330" cy="595" rx="45" ry="25" fill="white" fill-opacity="0.15"/>
    </g>

    <!-- Bottom-right stud -->
    <g filter="url(#studShadow)">
      <circle cx="684" cy="620" r="95" fill="url(#studGrad)" stroke="#A00008" stroke-width="3"/>
      <ellipse cx="674" cy="595" rx="45" ry="25" fill="white" fill-opacity="0.15"/>
    </g>

    <!-- === Central checkmark badge === -->
    <g filter="url(#checkShadow)">
      <!-- White circle background -->
      <circle cx="512" cy="500" r="175" fill="white" fill-opacity="0.95"/>

      <!-- Checkmark (bold, rounded) -->
      <polyline
        points="430,500 490,560 600,440"
        fill="none"
        stroke="#E3000B"
        stroke-width="48"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </g>

    <!-- Bottom edge shadow for depth -->
    <rect y="990" width="1024" height="34" fill="black" fill-opacity="0.08"/>

  </g>
</svg>
